{"ast":null,"code":"import _slicedToArray from \"/home/gianraphael/Udemy/TableMeal/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/gianraphael/Udemy/TableMeal/frontend/src/pages/Historic/index.js\";\nimport React, { useEffect, useState } from 'react';\nimport api from '../../services/api';\nimport NavBar from '../Navbar';\nimport logo from '../../assets/logo.png';\nimport './styles.css';\nexport default function Historic({\n  history\n}) {\n  console.log(\"ola\");\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        orders = _useState2[0],\n        setOrders = _useState2[1];\n\n  useEffect(() => {\n    async function loadOrders() {\n      const user_id = sessionStorage.getItem('user');\n      const response = await api.get('/order', {\n        params: {\n          user_id\n        }\n      });\n      setOrders(response.data);\n      console.log(response.data);\n    }\n\n    loadOrders();\n  }, []);\n\n  function menu() {\n    history.push('/');\n  }\n\n  function sair() {\n    history.push('/login');\n  }\n\n  function cardapio() {\n    history.push('/food');\n  }\n\n  function pedidos() {\n    history.push('/orders');\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(NavBar, {\n    menu: () => menu(),\n    sair: () => sair(),\n    cardapio: () => cardapio(),\n    pedidos: () => pedidos(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"imageDiv\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    id: \"orderImage\",\n    src: logo,\n    alt: \"TableMeal\",\n    onClick: pedidos,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"content2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"N\\xBA Pedido\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Pedido\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Mesa\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Status\")), orders.map(order => React.createElement(\"tr\", {\n    key: order._id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, order._id), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, order.foods.map(food => food.name + \",\")), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, order.table), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, order.status)))))));\n}","map":{"version":3,"sources":["/home/gianraphael/Udemy/TableMeal/frontend/src/pages/Historic/index.js"],"names":["React","useEffect","useState","api","NavBar","logo","Historic","history","console","log","orders","setOrders","loadOrders","user_id","sessionStorage","getItem","response","get","params","data","menu","push","sair","cardapio","pedidos","map","order","_id","foods","food","name","table","status"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport api from '../../services/api';\nimport NavBar from '../Navbar'\nimport logo from '../../assets/logo.png'\nimport './styles.css'\n\n\nexport default function Historic({ history }) {\n    console.log(\"ola\")\n    const [orders, setOrders] = useState([]);\n    useEffect(() => {\n        async function loadOrders() {\n            const user_id = sessionStorage.getItem('user');\n            const response = await api.get('/order', {\n                params: { user_id }\n            });\n            setOrders(response.data);\n            console.log(response.data);\n        }\n        loadOrders();\n        \n    }, []);\n\n\n    function menu() {\n        history.push('/');\n    }\n    function sair() {\n        history.push('/login');\n    }\n    function cardapio() {\n        history.push('/food');\n    }\n    function pedidos() {\n        history.push('/orders');\n    }\n\n    return (\n        <>\n            <NavBar menu={() => menu()} sair={() => sair()} cardapio={() => cardapio()} pedidos={() => pedidos()} />\n            <div className=\"imageDiv\">\n                <img id=\"orderImage\" src={logo} alt=\"TableMeal\" onClick={pedidos} />\n            </div>\n            <div className=\"content2\">\n                <table>\n                    <tbody>\n                        <tr>\n                            <th>NÂº Pedido</th>\n                            <th>Pedido</th>\n                            <th>Mesa</th>\n                            <th>Status</th>\n                        </tr>\n                        {orders.map((order) => (\n                            <tr key={order._id}>\n                                <td>{order._id}</td>\n                                <td>{order.foods.map((food) => (food.name + \",\"))}</td>\n                                <td>{order.table}</td>\n                                <td>{order.status}</td>\n                            </tr>\n                        ))}\n                    </tbody>\n\n                </table>\n\n            </div>\n        </>\n    )\n\n\n}"]},"metadata":{},"sourceType":"module"}