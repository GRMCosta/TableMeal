{"ast":null,"code":"import _slicedToArray from \"/home/gianraphael/Udemy/TableMeal/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/gianraphael/Udemy/TableMeal/frontend/src/pages/Orders/index.js\";\nimport React, { useEffect, useState } from 'react';\nimport api from '../../services/api';\nimport NavBar from '../Navbar';\nimport logo from '../../assets/logo.png';\nimport './styles.css';\nexport default function Order({\n  history\n}) {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        orders = _useState2[0],\n        setOrders = _useState2[1];\n\n  useEffect(() => {\n    async function loadOrders() {\n      const user_id = sessionStorage.getItem('user');\n      const response = await api.get('/order', {\n        params: {\n          user_id\n        }\n      });\n      setOrders(response.data);\n      console.log(response.data);\n    }\n\n    loadOrders();\n  }, []);\n\n  async function statusOrder(id) {\n    const newOrders = orders.filter(order => {\n      return order._id !== id;\n    });\n    setOrders(newOrders);\n    await api.put('/order', {\n      id,\n      status: \"Enviado\"\n    });\n  }\n\n  function menu() {\n    history.push('/');\n  }\n\n  function sair() {\n    history.push('/login');\n  }\n\n  function cardapio() {\n    history.push('/food');\n  }\n\n  function pedidos() {\n    history.push('/orders');\n  }\n\n  function historico() {\n    history.push('/histo');\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(NavBar, {\n    menu: () => menu(),\n    sair: () => sair(),\n    cardapio: () => cardapio(),\n    pedidos: () => pedidos(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"imageDiv\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    id: \"orderImage\",\n    src: logo,\n    alt: \"TableMeal\",\n    onClick: historico,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"content2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"N\\xBA Pedido\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Pedido\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Mesa\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Status\")), orders.filter(order => order.status === \"Aguardando\").map(order => React.createElement(\"tr\", {\n    key: order._id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, order._id), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, order.foods.map(food => food.name + \",\")), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, order.table), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"select\", {\n    id: \"status\",\n    onChange: () => statusOrder(order._id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"Aguardando\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Aguardando...\"), React.createElement(\"option\", {\n    value: \"Pedido Enviado!\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Enviar Pedido\")))))))));\n}","map":{"version":3,"sources":["/home/gianraphael/Udemy/TableMeal/frontend/src/pages/Orders/index.js"],"names":["React","useEffect","useState","api","NavBar","logo","Order","history","orders","setOrders","loadOrders","user_id","sessionStorage","getItem","response","get","params","data","console","log","statusOrder","id","newOrders","filter","order","_id","put","status","menu","push","sair","cardapio","pedidos","historico","map","foods","food","name","table"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport api from '../../services/api';\nimport NavBar from '../Navbar'\nimport logo from '../../assets/logo.png'\nimport './styles.css'\n\n\nexport default function Order({ history }) {\n    const [orders, setOrders] = useState([]);\n    useEffect(() => {\n        async function loadOrders() {\n            const user_id = sessionStorage.getItem('user');\n            const response = await api.get('/order', {\n                params: { user_id }\n            });\n            setOrders(response.data);\n            console.log(response.data);\n        }\n        loadOrders();\n        \n    }, []);\n\n    async function statusOrder(id) {\n        const newOrders = orders.filter((order) => {\n            return order._id !== id;\n        });\n        setOrders(newOrders);\n        await api.put('/order', {\n            id,\n            status: \"Enviado\"\n        });\n    }\n\n    function menu() {\n        history.push('/');\n    }\n    function sair() {\n        history.push('/login');\n    }\n    function cardapio() {\n        history.push('/food');\n    }\n    function pedidos() {\n        history.push('/orders');\n    }\n    function historico() {\n        history.push('/histo');\n    }\n\n    return (\n        <>\n            <NavBar menu={() => menu()} sair={() => sair()} cardapio={() => cardapio()} pedidos={() => pedidos()} />\n            <div className=\"imageDiv\">\n                <img id=\"orderImage\" src={logo} alt=\"TableMeal\" onClick={historico} />\n            </div>\n            <div className=\"content2\">\n                <table>\n                    <tbody>\n                        <tr>\n                            <th>NÂº Pedido</th>\n                            <th>Pedido</th>\n                            <th>Mesa</th>\n                            <th>Status</th>\n                        </tr>\n                        {orders.filter(order => order.status === \"Aguardando\").map((order) => (\n                            <tr key={order._id}>\n                                <td>{order._id}</td>\n                                <td>{order.foods.map((food) => (food.name + \",\"))}</td>\n                                <td>{order.table}</td>\n                                <td>\n                                    <select id=\"status\" onChange={() => statusOrder(order._id)}  >\n                                        <option value=\"Aguardando\">Aguardando...</option>\n                                        <option value=\"Pedido Enviado!\">Enviar Pedido</option>\n                                    </select>\n                                </td>\n                            </tr>\n                        ))}\n                    </tbody>\n\n                </table>\n\n            </div>\n        </>\n    )\n\n\n}"]},"metadata":{},"sourceType":"module"}